<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Open University</title>

    <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png">
    <link rel="manifest" href="/assets/site.webmanifest">
    <link rel="mask-icon" href="/assets/icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">

    <!-- <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> -->
    <!-- <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script> -->
    
    <script src="/elm.js"></script>
  </head>
  <body>
    <main id="main"></main>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <script>

     MathJax.Hub.Config({
       skipStartupTypeset: true,
       extensions: ["tex2jax.js", "TeX/AMSmath.js"],
       jax: ["input/TeX", "output/HTML-CSS"],
       tex2jax: {
         inlineMath: [["$", "$"]],
         processEscapes: true
       }
     });

     function typesetMath() {
       MathJax.Hub.Queue(["Typeset", MathJax.Hub, "main"]);
     }

     // TODO: Use a port instead.
     setInterval(() => { typesetMath(); console.log("TYPESET"); }, 1000);

      var app = Elm.Main.init({node: document.getElementsByTagName("main")[0]});
    </script>
  </body>
</html>
